# GLB模型纹理测试功能

## 功能介绍

这个项目为GLB 3D模型查看器添加了动态纹理测试功能，允许用户实时切换不同的纹理材质，测试模型在不同材质下的视觉效果。

## 访问方式

1. 启动项目: `npm run dev`
2. 访问纹理测试页面: `http://localhost:5174/glb-viewer`

## 功能特性

### 🎨 纹理库

项目包含多种高质量纹理素材：

- **金属纹理** - 工业风格的金属质感
- **木材纹理** - 天然木纹材质
- **布料纹理** - 织物质感
- **大理石纹理** - 高端石材质感
- **砖块纹理** - 建筑材料质感
- **皮革纹理** - 皮质材料
- **石材纹理** - 自然石材
- **纸张纹理** - 纸质材料

### 🛠️ 控制功能

1. **纹理切换** - 下拉菜单选择不同纹理
2. **纹理重复** - 调节X/Y轴重复次数 (1-10倍)
3. **应用范围** - 可选择应用到单个或所有材质
4. **重置功能** - 一键恢复原始材质
5. **实时预览** - 右下角显示当前纹理缩略图

### 🎮 交互控制

- **鼠标拖拽** - 旋转视角
- **滚轮缩放** - 放大/缩小模型
- **右键拖拽** - 平移视角
- **重置视角** - 恢复默认相机位置
- **线框模式** - 切换线框/实体显示
- **自动旋转** - 自动旋转模型

## 技术实现

### 核心技术栈

- **Vue 3** - 响应式前端框架
- **Three.js** - 3D图形渲染引擎
- **GLTFLoader** - GLB/GLTF模型加载器
- **OrbitControls** - 3D场景交互控制

### 纹理处理

- 动态纹理加载和切换
- UV映射重复控制
- 材质属性调节 (金属度、粗糙度)
- 原始材质保存和恢复

### 文件结构

```
public/
├── textures/           # 纹理文件目录
│   ├── metal_diffuse.jpg
│   ├── wood_diffuse.jpg
│   ├── fabric_diffuse.jpg
│   ├── marble_diffuse.jpg
│   ├── brick_diffuse.jpg
│   ├── leather_diffuse.jpg
│   ├── stone_diffuse.jpg
│   └── paper_diffuse.jpg
└── 816fd13e-1ab8-478e-bc83-5cbda868ba20.glb  # 3D模型文件

src/views/
└── GLBModelView.vue    # 主要组件文件
```

## 使用说明

### 基础操作

1. 页面加载后会自动显示GLB模型
2. 左侧控制面板提供各种操作选项
3. 选择纹理下拉菜单切换不同材质
4. 使用滑块调节纹理重复次数
5. 右下角查看当前纹理预览

### 高级功能

- **应用到所有材质**: 将当前纹理应用到模型的所有部件
- **重置材质**: 恢复模型的原始材质
- **纹理重复调节**: 控制纹理在模型表面的重复密度

## 纹理来源

项目使用的纹理素材来自以下免费资源网站：

- [Poly Haven](https://polyhaven.com/) - 高质量CC0纹理
- [ambientCG](https://ambientcg.com/) - 免费PBR材质
- [Unsplash](https://unsplash.com/) - 高质量免费图片

所有纹理均为免费商用许可。

## 开发扩展

### 添加新纹理

1. 将纹理文件放入 `public/textures/` 目录
2. 在 `GLBModelView.vue` 中的选项列表添加新选项
3. 确保文件格式为JPG/PNG

### 自定义材质属性

可以在 `changeTexture` 函数中调整：

```javascript
const newMaterial = new THREE.MeshStandardMaterial({
  map: currentTexture,
  metalness: 0.3, // 金属度 (0-1)
  roughness: 0.7, // 粗糙度 (0-1)
  normalScale: new THREE.Vector2(1, 1), // 法线贴图强度
  envMapIntensity: 1.0, // 环境贴图强度
})
```

## 性能优化

- 纹理懒加载：只在选择时加载
- 材质缓存：避免重复创建相同材质
- 内存管理：及时清理未使用的纹理
- 响应式设计：适配移动设备

## 故障排除

### 常见问题

1. **纹理显示空白** - 检查纹理文件路径和格式
2. **加载缓慢** - 优化纹理文件大小
3. **模型不显示** - 检查GLB文件路径
4. **控制失效** - 检查Three.js版本兼容性

### 调试建议

- 打开浏览器开发者工具查看控制台错误
- 检查网络标签页确认文件加载状态
- 验证文件路径和权限设置

## 更新日志

- **v1.0** - 基础GLB查看器
- **v1.1** - 添加纹理切换功能
- **v1.2** - 增加纹理重复控制
- **v1.3** - 添加预览面板和更多纹理选项

---

这个纹理测试功能为3D模型开发和设计工作流提供了强大的可视化工具，帮助快速测试不同材质效果。
